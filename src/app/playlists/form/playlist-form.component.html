<div class="flex__column m-1">

   <div class="mb-2" [ngSwitch]="true">
     <h4 class="m-0" *ngSwitchCase="!selectedPlaylist">Create</h4>
     <h4 class="m-0" *ngSwitchCase="selectedPlaylist && edited && !edited.id">Playlist</h4>
     <h4 class="m-0" *ngSwitchCase="selectedPlaylist && edited && !!edited.id">Edit</h4>
   </div>

  <app-playlist-form-new
    *ngIf="!selectedPlaylist"
    (addNewPlaylist)="handleAddNewPlaylist()"
    [edited]="edited"
  ></app-playlist-form-new>

  <app-playlist-detail
    *ngIf="selectedPlaylist && edited && !edited.id"
    [activePlaylist]="activePlaylist"
    (setEditedPlaylist)="handleSetEditedPlaylist($event)"
    (removePlaylist)="handleRemovePlaylist($event)"
  ></app-playlist-detail>

  <app-card
    *ngIf="selectedPlaylist && edited && !!edited.id"
    [title]=" 'Edit Playlist' "
    [description]=" 'You can edit all fields of your playlist here' "
  >

    <div class="card__body">
      <div class="flex__column">
        <label for="add_name">Name</label>
        <input
          type="text"
          id="add_name"
          class="input input--dark"
          [(ngModel)]="edited.name"
        />
      </div>
      <div class="flex__column">
        <label>Tracks</label>
        <div class="box box__column box--dark box--rounded">
          <span *ngFor="let track of edited.tracks">
            {{ track.name }}
          </span>
        </div>
      </div>
      <div class="flex__column">
        <label for="add_desc">Description</label>
        <textarea
          id="add_desc"
          class="input input--dark"
          [(ngModel)]="edited.description"
        >
        </textarea>
      </div>
      <div class="flex__column">
        <label for="add_color">Color</label>
        <input
          type="color"
          id="add_color"
          class="input input__color input--dark"
          [(ngModel)]="edited.color"
        />
      </div>
      <div>
        <label for="add_favourite">
          <input
            type="checkbox"
            id="add_favourite"
            [(ngModel)]="edited.favourite"
          />
          <span>Favourite</span>
        </label>
      </div>
      <div class="flex__row__start">
        <button
          (click)="handleSavePlaylist()"
          class="btn btn--dark"
        >
          Save
        </button>
        &nbsp;
        <button
          (click)="handleCloseEdit()"
          class="btn btn--dark"
        >
          Close
        </button>
      </div>
    </div>

  </app-card>
</div>
